# URL과 리소스

- URL은 인터넷의 리소스를 가리키는 표준 이름이다.
- URL은 전자정보 일부를 가리키고 그것이 어디에 있고 어떻게 접근할 수 있는지 알려준다.

## 인터넷의 리소스 탐색하기

- URL은 브라우저가 정보를 찾는데 필요한 리소스의 위치를 가리킨다.
- URL을 이용해 사람과 애플리케이션이 인터넷상의 수십억 개의 리소스를 찾고 사용하며 공유할 수 있다.

```url
http://www.joes-hardware.com/seasonal/index-fall.html
```

- URL의 첫 부분인 http는 URL의 스킴이다.
  - 스킴은 웹 클라이언트가 리소스에 어떻게 접근하는지 알려준다. 이 경우 URL이 http 프로토콜을 사용한다는 뜻이다.
  - 이는 http 프로토콜이 아닌 이메일 주소를 가리키는 mailto:, 파일 다운로드를 가리키는 ftp:가 될 수도 있다.
- URL의 두 번째 부분인 www.joes-hardware.com 은 서버의 위치다.
  - 이는 웹 클라이언트가 리소스가 어디에 호스팅 되어 있는지 알려준다.
- URL의 세 번째 부분인 /seasonal/index-fall.html은 리소스의 경로다.

  - 경로는 서버에 존재하는 로컬 리소스들 중에서 요청받은 리소스가 무엇인지 알려준다.

- 대부분의 URL은 '스킴://서버위치/경로' 구조로 이루어져 있다.

## URL 문법

- 대부분의 URL 스킴의 문법은 일반적으로 9개 부분으로 나뉜다.

```
<스킴>://<사용자 이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>
```

- 이 모든 컴포넌트를 가지는 URL은 거의 없다.
- URL의 가장 중요한 세 가지 컴포넌트는 스킴, 호스트, 경로다.

| 컴포넌트    | 설명                                                                                                                                                                                                | 기본값           |
| ----------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------- |
| 스킴        | 리소스를 가져오려면 어떤 프로토콜을 사용하며 서버에 접근해야 하는지 가리킨다.                                                                                                                       | 없음             |
| 사용자 이름 | 몇몇 스킴은 리소스에 접근을 하기 위해 사용자 이름을 필요로 한다.                                                                                                                                    | anonymous        |
| 비밀번호    | 사용자의 비밀번호를 가리키며, 사용자 이름에 콜론(:)으로 이어서 기술한다.                                                                                                                            | `<이메일 주소>`  |
| 호스트      | 리소스를 호스팅하는 서버의 호스트 명이나 IP 주소                                                                                                                                                    | 없음             |
| 포트        | 리소스를 호스팅하는 서버가 열어놓은 포트번호, 많은 스킴이 기본 포트를 가지고 있다.<br />(HTTP의 기본 포트는 80이다.)                                                                                | 스킴에 따라 다름 |
| 경로        | 이전 컴포넌트와 빗금(/)으로 구분되어 있으며, 서버 내 리소스가 서버 어디에 있는지를 가리킨다.<br />경로 컴포넌트의 문법은 서버와 스킴에 따라 다르다.                                                 | 없음             |
| 파라미터    | 특정 스킴들에서 입력 파라미터를 기술하는 용도로 사용한다. 파라미터는 이름/값을 쌍으로 가진다.<br />파라미터는 다른 파라미터나 경로의 일부와 세미콜론으로 구분하여 기술하며, 여러 개를 가질 수 있다. | 없음             |
| 질          | 스킴에서 애플리케이션(게시판, 검색엔진)에 파라미터를 전달하는데 쓰인다.<br />이는 URL의 끝에 "?"로 구분한다.                                                                                        | 없음             |
| 프래그먼트  | 리소스의 조각이나 일부분을 가리키는 이름이다. URL이 특정 객체를 가리킬 경우에 프래그먼트 필드는 서버에 전달되지 않는다. 이는 클라이언트에서만 사용되며, URL의 끝에 "#"문자로 구분한다.              | 없음             |

### 스킴: 사용할 프로토콜

- 주어진 리소스에 어떻게 접근하는지 알려주는 중요한 정보다.
- URL을 해석하는 애플리케이션이 어떤 프로토콜을 사용하여 리소스를 요청해야 하는지 알려준다.
- 스킴 컴포넌트는 알파벳으로 시작해야 하고 URL의 나머지 부분들과 첫 번째 ':' 문자로 구분한다.

### 호스트와 포트

- 애플리케이션이 인터넷에 있는 리소스를 찾으려면, 리소스를 호스팅하고 있는 장비와 그 장비 내에서 리소스에 접근할 수 있는 서버가 어디에 있는지 알아야 한다. URL의 호스트와 포트 컴포넌트는 그 두가지 정보를 제공해준다.
- 호스트 컴포넌트는 접근하려고 하는 리소스를 가지고 있는 인터넷상의 호스트 장비를 가리킨다.
- 해당 값은 위에서와 같이 ('www.joes-hardware.com') 호스트 명이나 IP 주소로 제공한다.
- 예를 들어, 아래 두 개의 URL은 같은 리소스를 가리킨다. 첫 번째는 호스트 명, 두 번째는 IP 주소를 가리킨다.

```url
http://www.joes-hardware.com:80/index.html
http://161.58.228.45:80/index.html
```

- 오늘 날에는 https를 사용하고 보안 문제로 인해 IP 주소 접근은 대부분 차단이 되어있다.

### 사용자 이름과 비밀번호

```url
ftp://anonymous:my_passwd@ftp.prep.ai.mit.edu/pub/gnu
```

- 주로 서버를 접근할 때 쓰인다. 서버의 데이터에 접근을 허용하기 전에 사용자 이름과 비밀번호를 요구한다.

### 경로

```url
http://www.joes-hardware.com:80/seasonal/index.fall.html
```

- 경로는 서버가 리소스의 위치를 찾는데 사용하는 정보다.
- 경로 컴포넌트는 '/' 문자를 기준으로 경로 조각으로 나뉜다.
- 각 경로조각은 자체만의 파라미터 컴포넌트를 가질 수 있다.

### 파라미터

```url
https://www.google.com/search?q=넷플릭스&sourceid=chrome&ie=UTF-8
```

- 애플리케이션이 리소스에 접근하는데 필요한 어떤 추가 정보를 전달할 수 있다.
- 위의 경우 key가 'q'이고, value가 '넷플릭스',
  key가 'sourceid'이고, value가 'chrome',
  key가 'ie'이고, value가 'UTF-8'인 정보를 서버에 전달한다.

### 질의 문자열

```url
https://www.google.com/search?q=넷플릭스&sourceid=chrome&ie=UTF-8
```

- 특정 경로로 파라미터를 전달하기 위해 제일 앞서 '?'가 쓰인다.
- 이후 파라미터의 값들이 '&'로 나누어 'key=value' 형식으로 전달된다.
- 주로 검색을 할 때 사용된다.

### 프래그먼트

```url
https://m.gmarket.co.kr/n/best#rank-100
```

- 리소스의 특정 이미지나 문서 등 일부분을 가리킬 수 있다.
- 특징으로는 클라이언트가 서버에 프래그먼트를 전달하지 않고, 서버로부터 받아온 정보를 통해 리소스를 가공하여 보여준다.

## 단축 URL

- 웹 클라이언트는 몇몇 단축 URL을 사용하고 있으며 리소스를 간결하게 사용할 수 있도록 도와준다.
- 상대 URL과 절대 URL 두 가지로 나뉜다.

### 상대 URL

- 상대 URL은 모든 정보를 담고 있지 않다.
- 상대 URL로 리소스에 접근하여 모든 리소스를 얻기 위해서는 기저(base)라고 하는 다른 url을 사용해야 한다.
- 기저 URL은 전체 주소를 알 수 있는 기본 주소이다.
- 상대 url은 url을 짧게 표기하는 방식이다.

```html
<!-- index.html -->

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Joe's Tools</title>
  </head>
  <body>
    <h1>Tools Page</h1>
    <p>Joe's Hardware site <a href="./site.html">site</a></p>
  </body>
</html>
```

- 해당 HTML 문서에서는 웹서버 index.html의 리소스를 기준으로 하이퍼링크가 "./site.html"으로 명시되어있다.
- 상대 URL 문법에 따르면, HTML 작성자는 URL에 스킴과 호스트, 다른 컴포넌트들을 모두 입력하지 않아도 된다.
- 해당 URL을 기저 URL로 사용하여, 상대 URL에서는 기술하지 않은 정보를 추측할 수 있다.

```html
<!-- 전체 주소 -->
http://www.joes-hardware.com/tools.html

<!-- 기저 URL -->
http://www.joes-hardware.com

<!-- 상대 URL -->
./tools.html
```

- 상대 URL은 프래그먼트이거나 URL의 일부이다.

### URL 확장

- 어떤 브라우저들은 URL을 입력한 다음이나 입력하고 있는 동안에 자동으로 URL을 확장한다.
- 이는 사용자가 URL을 빠르게 입력하게 도와준다.
- 자동으로 URL이 확장되기 때문에 URL 전체를 입력하지 않아도 된다.
- 이러한 '확장' 기능은 두 가지로 나뉜다.

#### 호스트 명 확장

```url
google -> www.google.com
```

- 브라우저는 특정 키워드를 입력하면 브라우저는 호스트 명에 자동으로 'www.' 와 '.com'을 붙여준다.

```html
'웬즈데이' -> 기본 검색 설정 'google' -> 구글에서 '웬즈데이' 키워드로 검색
```

- 어떤 브라우저는 'yahoo' 라는 단어를 포함한 사이트를 찾지 못하면, 확장을 포기하기 전에 몇 가지의 URL을 추가로 제시한다. 주로 기본 검색 브라우저가 있다.

#### 히스토리 확장

- 사용자가 URL을 입력하는 시간을 줄이고자, 과거에 방문했던 사이트나 북마크했던 URL의 기록을 저장한다.
- 관련된 URL이나 키워드를 입력하면, 앞 글자들을 포함하는 완성된 URL을 선택하게 도와준다.
